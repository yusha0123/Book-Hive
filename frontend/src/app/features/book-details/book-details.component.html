<div *ngIf="loading; else notLoading">
  <div class="h-[100dvh] w-full flex items-center justify-center">
    <mat-spinner diameter="45"></mat-spinner>
  </div>
</div>
<ng-template #notLoading>
  <div *ngIf="notFound; else bookDetails">
    <div class="h-[100dvh] w-full flex items-center justify-center">
      <img
        src="assets/not-found.svg"
        alt="not-found"
        class="h-60 w-60 md:w-72 md:h-72 xl:h-80 xl:w-80"
      />
    </div>
  </div>
  <ng-template #bookDetails>
    <section
      class="w-full px-4 md:px-5 xl:px-0 pb-5 max-w-5xl mx-auto grid grid-cols-12 gap-5 mt-20 md:mt-24"
    >
      <div class="col-span-12 md:col-span-4">
        <img
          class="rounded-md object-fit md:max-h-[60vh] lg:ml-auto"
          [src]="book?.coverUrl"
          [alt]="book?.title"
        />
      </div>
      <div class="col-span-12 md:col-span-8 flex flex-col gap-y-2">
        <p
          class="text-2xl md:text-3xl font-semibold flex items-center flex-wrap gap-2"
        >
          {{ book?.title }}
        </p>
        <p class="text-sm">
          by <span class="text-blue-500">{{ book?.author }}</span> (Author)
        </p>

        <p class="text-[20px] font-medium">&#x20B9;{{ book?.price }}</p>
        <span
          class="text-sm rounded-lg bg-gray-300 text-black p-1.5 w-fit font-medium"
        >
          {{ book?.genre }}
        </span>
        <div
          class="flex my-2 items-center gap-2 justify-center md:justify-start"
        >
          <ng-template>
            <button
              mat-flat-button
              color="primary"
              (click)="onAddToCart(book!)"
            >
              <i class="pi pi-cart-plus mr-2"></i>Add to Cart
            </button>
          </ng-template>
          <button mat-icon-button>
            <i class="pi pi-heart"></i>
          </button>
        </div>
        <p class="text-lg">{{ book?.description }}</p>
      </div>
    </section>
  </ng-template>
</ng-template>
